<div>
  <div class="flex items-center justify-between mb-6">
    <div>
      <p class="text-xs uppercase tracking-[0.28em] text-muted">History</p>
      <h2 class="text-3xl font-semibold">Archive</h2>
    </div>
    <button (click)="clearArchive()" class="btn btn-danger">
      Clear archive
    </button>
  </div>

  <div *ngFor="let todo of archivedTodos" class="p-4 rounded-2xl mb-4 flex justify-between items-center todo-card" [ngClass]="todoService.getColorClass(todo.color)">
    <div>
      <div class="text-xs uppercase tracking-[0.2em] font-semibold">{{ getWeekday(todo.date) }}</div>
      <div class="text-base mt-1">{{ todo.description }}</div>
      <div class="text-sm font-semibold text-muted">{{ getTimeLabel(todo) }}</div>
    </div>

    <div class="flex items-center gap-4">
      <button (click)="restoreTodo(todo)" class="btn btn-ghost text-xs">
        Restore
      </button>
      <span [ngClass]="{
        'status-done': todo.status === 'done',
        'status-archived': todo.status === 'open' || todo.status === 'in-progress'
      }" class="status-pill">
        {{ todo.status === 'done' ? 'DONE' : 'DELETED' }}
      </span>
      <svg class="priority-icon" [ngClass]="{
        'priority-low': todo.priority === 'low',
        'priority-medium': todo.priority === 'medium',
        'priority-high': todo.priority === 'high'
      }" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path *ngIf="todo.priority === 'low'" stroke-linecap="round" stroke-linejoin="round" d="M12 6v12M7 13l5 5 5-5"/>
        <path *ngIf="todo.priority === 'medium'" stroke-linecap="round" stroke-linejoin="round" d="M5 12h14"/>
        <path *ngIf="todo.priority === 'high'" stroke-linecap="round" stroke-linejoin="round" d="M12 18V6M7 11l5-5 5 5"/>
      </svg>
    </div>
  </div>
</div>
